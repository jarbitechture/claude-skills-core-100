# Atomic Composition Framework

## Theoretical Foundation

This framework implements the MEGA (Maximally Endowed Graph Architecture) paradigm for writing style composition. Each atomic primitive represents a **hypersoft categorical** entity with independently-weightable sub-attributes and plithogenic uncertainty values.

**Universal Transform**: `λο.τ` — Entity(ο) transforms via Operation(λ) toward Terminal(τ)

## The Three Atomic Primitives

### AGONAL (α) — Persuasion Through Paradox

**Etymology**: Greek *agon* (contest, struggle) — the productive tension that drives insight

**λο.τ Form**: `Cultural-Ground(ο) → Paradox-Accumulation(λ) → Irreducible-Mystery(τ)`

**Core Function**: Accumulate tensions and contradictions until synthesis becomes the only resolution. Truth emerges from the collision of frameworks, not linear proof.

**Sub-Attributes**:

| Sub-Attribute | Symbol | T | F | I | C | Function |
|--------------|--------|---|---|---|---|----------|
| Paradox Density | α₁ | 0.9 | 0.1 | 0.2 | 0.7 | Crystallize irreducible tensions |
| Recursive Anchoring | α₂ | 0.8 | 0.2 | 0.3 | 0.4 | Deploy thematic coherence markers |
| Forced Dilemma | α₃ | 0.95 | 0.05 | 0.1 | 0.9 | Eliminate wiggle room |
| Transformed Return | α₄ | 0.85 | 0.15 | 0.2 | 0.3 | Return to opening with new weight |

**Signature Moves**:
- "How bizarre" transitions
- Framework critique via immanent logic
- Stakes escalation ("Either X or Y—no wiggle room")
- ≥3 paradoxes crystallized before synthesis

---

### MAIEUTIC (β) — Discovery Through Dialogue

**Etymology**: Greek *maieutikos* (midwifery) — Socrates' method of "giving birth" to knowledge

**λο.τ Form**: `Question(ο) → Narrative-Grounding(λ) → Discovery-Through-Dialogue(τ)`

**Core Function**: Knowledge emerges through character interaction. The skeptic's resistance and the teacher's guidance create space for genuine discovery.

**Sub-Attributes**:

| Sub-Attribute | Symbol | T | F | I | C | Function |
|--------------|--------|---|---|---|---|----------|
| Character Embodiment | β₁ | 0.9 | 0.1 | 0.2 | 0.2 | Create distinct voices (Bob/Gerry) |
| Phenomenological Grounding | β₂ | 0.85 | 0.15 | 0.3 | 0.1 | Anchor in clinical/concrete experience |
| Triumphant Revelation | β₃ | 0.8 | 0.2 | 0.4 | 0.2 | Pedagogical "aha" moments |
| Grudging Acknowledgment | β₄ | 0.75 | 0.25 | 0.3 | 0.5 | Skeptic's resistance yielding to insight |

**Signature Moves**:
- "Well Bob, have I got news for you"
- Tables as dialogue props
- Circulation time as narrative pacing
- "I must admit" grudging concessions

---

### APOPHATIC (γ) — Authority Through Self-Negation

**Etymology**: Greek *apophasis* (denial, negation) — defining by what something is NOT

**λο.τ Form**: `Assertion(ο) → Parenthetical-Subversion(λ) → Acknowledged-Inadequacy(τ)`

**Core Function**: Build credibility by undermining your own claims. Triangulate sources to demonstrate no single authority suffices. Critique enables trust.

**Sub-Attributes**:

| Sub-Attribute | Symbol | T | F | I | C | Function |
|--------------|--------|---|---|---|---|----------|
| Parenthetical Subversion | γ₁ | 0.9 | 0.1 | 0.2 | 0.8 | Undermine formal claims with asides |
| Hostile Sympathy | γ₂ | 0.85 | 0.15 | 0.3 | 0.7 | Critique authority while sympathizing with subjects |
| Preemptive Apology | γ₃ | 0.8 | 0.2 | 0.4 | 0.3 | Acknowledge reader frustration before it arises |
| Citation Triangulation | γ₄ | 0.75 | 0.25 | 0.5 | 0.6 | Never one source when three will do |

**Signature Moves**:
- "This author also suffers for want of..."
- "(though really, this does not inform you of anything particularly useful)"
- Multi-track audience addressing (trainee/examiner/self/reader)
- Official → Alternative source pattern

---

## Composition Operators

### Sequential Composition: (α ∘ β)ο

**Definition**: Apply first primitive's transform, then second's to the result.

**Notation**: `(α ∘ β)ο = α(β(ο))`

**Use Case**: When one primitive establishes conditions for another.

**Example**: `(γ ∘ α)` — Use APOPHATIC to establish epistemic humility, then AGONAL to accumulate paradoxes within that frame.

```
Phase 1: γ establishes acknowledged inadequacy
Phase 2: α builds paradoxes within that humble frame
Result: Paradoxes feel discovered rather than asserted
```

---

### Parallel Composition: α ⊗ β

**Definition**: Apply both primitives simultaneously, interleaving their sub-attributes.

**Notation**: `α ⊗ β = λο.(α(ο), β(ο))`

**Use Case**: When primitives should operate concurrently throughout.

**Example**: `α ⊗ β` — Paradoxes emerge through Socratic dialogue (not declared, but discovered via character exchange).

```
Throughout: α₁ (paradox density) interleaves with β₁ (character embodiment)
Throughout: α₃ (forced dilemma) emerges via β₃ (triumphant revelation)
Result: "Bob, you see the paradox now?" pattern
```

---

### Recursive Composition: α*

**Definition**: Apply primitive repeatedly until convergence criterion met.

**Notation**: `α* = fix(α)` — fixpoint iteration

**Use Case**: When depth requires self-referential application.

**Example**: `γ*` — Meta-commentary on meta-commentary ("acknowledging that you are acknowledging").

```
Round 1: γ₁ subverts formal claim
Round 2: γ₁ subverts the subversion
Round 3: γ₃ apologizes for excessive subversion
Convergence: When reader would lose patience
```

---

### Conditional Composition: α | c

**Definition**: Apply primitive only when condition c is satisfied.

**Notation**: `α | c = λο.if c(ο) then Just(α(ο)) else Nothing`

**Use Case**: Context-dependent activation.

**Example**: `β | has_clinical_case` — Deploy MAIEUTIC only when clinical case available.

```
if has_clinical_case:
    activate β₁ (character embodiment)
    activate β₂ (phenomenological grounding)
else:
    bypass dialogue structure
```

---

## Constraint Propagation System

### Perpetual Constraints (Π)

Constraints that persist throughout composition, never relaxed:

| Constraint | Symbol | Enforcement |
|-----------|--------|-------------|
| Word limit | Π₁ | ≤220 words for SAQ |
| Time feasibility | Π₂ | 8-minute handwriting |
| Cascade preservation | Π₃ | Mechanistic chains unbroken |
| Clinical grounding | Π₄ | Every value has context |

### Initial Conditions (ι)

Context-dependent modifiers applied at composition start:

| Condition | Detection | Effect |
|-----------|-----------|--------|
| Time pressure | exam context, deadline | ↑β weight (efficient pedagogy) |
| Skeptical audience | formal venue, mixed beliefs | ↑α weight (paradox persuasion) |
| Academic formality | journal, thesis, review | ↑γ weight (self-critique) |
| Teaching context | tutorial, lecture | ↑β weight (dialogue discovery) |
| Entertainment goal | blog, popular writing | balance all three |

---

## Phase-Locking and Exclusion Rules

### Phase-Locked Pairs (Must Co-occur)

| Pair | Lock Condition | Rationale |
|------|----------------|-----------|
| α₃ ↔ α₄ | if α₃.T > 0.8 | Forced dilemmas require transformed return |
| β₁ ↔ β₂ | if β₁.T > 0.7 | Characters need phenomenological grounding |
| γ₁ ↔ γ₂ | if γ₁.T > 0.8 | Subversion needs target sympathy |

### Phase-Exclusion Rules (Cannot Co-occur)

| Exclusion | Conflict | Resolution |
|-----------|----------|------------|
| α₃ ⊗ γ₃ | Forced dilemma vs preemptive apology | Dominance: α₃ in persuasive, γ₃ in academic |
| β₃ ⊗ γ₁ | Triumphant revelation vs parenthetical undermine | Sequential: β₃ → γ₁ (reveal then qualify) |

### Dominance Hierarchy

When conflicts cannot be resolved by sequencing:

```
Context: Persuasive/Apologetic → α dominates
Context: Pedagogical/Tutorial → β dominates
Context: Academic/Formal → γ dominates
```

---

## Scenario Matrix

| Scenario | α Weight | β Weight | γ Weight | Primary Operator |
|----------|----------|----------|----------|------------------|
| Exam SAQ (time-pressured) | 0.3 | 0.5 | 0.2 | β ⊗ (α \| has_paradox) |
| Viva Defence | 0.6 | 0.3 | 0.1 | α ∘ β |
| Formal Academic Paper | 0.4 | 0.1 | 0.5 | γ* ⊗ α |
| Tutorial Teaching | 0.2 | 0.7 | 0.1 | β* |
| Editorial/Opinion | 0.5 | 0.2 | 0.3 | α ⊗ γ |
| Literature Review | 0.2 | 0.2 | 0.6 | γ* |
| Clinical Case Report | 0.3 | 0.4 | 0.3 | β ⊗ γ |
| Entertaining Academic | 0.4 | 0.3 | 0.3 | (α ⊗ β) ⊗ γ |
| Apologetics/Persuasion | 0.7 | 0.2 | 0.1 | α* ∘ β |
| Exam Commentary Writing | 0.2 | 0.3 | 0.5 | γ ∘ β |

---

## Composition Algorithm

```python
def compute_composition(scenario: str, context: dict) -> CompositionOperator:
    """
    Generate optimal composition operator chain.

    Args:
        scenario: One of 10 defined scenarios
        context: {initial_conditions: [], perpetual_constraints: []}

    Returns:
        Executable composition operator
    """
    # Step 1: Load base weights from scenario matrix
    weights = SCENARIO_MATRIX[scenario]  # {α: float, β: float, γ: float}

    # Step 2: Apply initial condition modifiers
    for condition in context['initial_conditions']:
        weights = apply_condition_modifier(weights, condition)

    # Step 3: Expand to sub-attributes
    active_subs = expand_to_subattributes(weights, threshold=0.5)

    # Step 4: Resolve phase exclusions
    active_subs = resolve_phase_exclusions(active_subs, weights)

    # Step 5: Enforce phase locks
    active_subs = enforce_phase_locks(active_subs)

    # Step 6: Generate operator chain based on dominant primitive
    dominant = max(weights, key=weights.get)

    if dominant == 'α':
        if 'β' in get_active_primitives(active_subs):
            composition = (α ∘ β) if sequential_context(context) else (α ⊗ β)
        else:
            composition = α* if needs_recursion(context) else α
    elif dominant == 'β':
        composition = β ⊗ (α | has_paradox) if α in active else β*
    else:  # γ dominant
        composition = (γ* ∘ α) if formal_context(context) else γ ⊗ β

    # Step 7: Apply perpetual constraints as guards
    for constraint in context['perpetual_constraints']:
        composition = composition | satisfies(constraint)

    return composition
```

---

## Legacy Alias Mapping

For backward compatibility with existing `style:` directives:

| Legacy Style | Composition Equivalent |
|--------------|------------------------|
| `dialectical` | α (pure AGONAL) |
| `gerry` | β (pure MAIEUTIC) |
| `yartzev` | γ (pure APOPHATIC) |
| `dialectical+gerry` | α ⊗ β |
| `dialectical+yartzev` | α ⊗ γ |
| `gerry+yartzev` | β ⊗ γ |

The new atomic system extends (does not replace) the legacy mode system.

---

## Quality Verification

### Composition Validity Checks

```
[ ] Weights sum to ≤1.5 (allowing overlap but not oversaturation)
[ ] Phase-locked pairs satisfied
[ ] Phase-exclusions respected OR resolved via dominance
[ ] Perpetual constraints maintained throughout
[ ] At least one sub-attribute active per phase
[ ] Convergence criterion defined for recursive operators
```

### Output Verification

```
[ ] Word count within Π₁ bounds
[ ] Mechanistic cascades preserved (Π₃)
[ ] Clinical context paired with values (Π₄)
[ ] Dominant primitive's signature moves present
[ ] Transformed return or appropriate closure
```
